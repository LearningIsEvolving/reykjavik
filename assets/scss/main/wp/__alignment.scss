/* FILE: main/wp/__alignment.scss */

//
// Alignment
//





$content_indent: 100 - $page_content_width;

.site-content {
	// Needed to prevent horizontal scrolling due to incorrect
	// `100vw` calculation in browser on Windows operating system.
	overflow-x: hidden;
}

.alignwide,
.alignfull {
	clear: both;
	width: 100vw;

	& + & {
		// Removing vertical margin here in favor of Spacer block
		// used to space out the wide/full aligned blocks.
		margin-top: -$golden +em;
	}

}

.alignwide {
	/* $content_width */
	max-width: $content_width +px;
	margin-#{$left}: calc( 50% - #{ $content_width / 2 +px } ); // {{RTL}}

	.page-layout-outdented & {

		@include media( map_get( $breakpoint, 'xl' ) ) {
			width: percentage( 1 / ( $page_content_width / 100 ) );
			margin-#{$left}: percentage( -1 / ( $page_content_width / 100 ) + 1 ); // {{RTL}}
		}

	}

}

.alignfull {
	max-width: 100vw;
	margin-#{$left}: calc( 50% - 50vw ); // {{RTL}}

	.page-layout-outdented & {

		@include media( map_get( $breakpoint, 'xl' ) ) {
			$content_center: ( 50 - $content_indent ) / ( 100 - $content_indent );
			$content_center: percentage( $content_center );
			margin-#{$left}: calc( #{ $content_center } - 50vw );
		}

	}

	// First and last full aligned block in a page/CPT content
	// should "remove" the page/CPT vertical padding really.
	// On blog posts this is not needed as there is still a post
	// meta displayed on top.
	// @see  .site-content-inner @ main/content/__layout.scss
	.is-singular:not(.single-post) & {

		&:first-child {
			margin-top: -$golden_major * $padding_vertical;

			@include media( map_get( $breakpoint, 'l' ) ) {
				margin-top: -$padding_vertical;
			}

			@include media( map_get( $breakpoint, 'xl' ) ) {
				margin-top: -$golden * $padding_vertical;
			}

		}

		&:last-child {
			margin-bottom: -$golden_major * $padding_vertical;

			@include media( map_get( $breakpoint, 'l' ) ) {
				margin-bottom: -$padding_vertical;
			}

			@include media( map_get( $breakpoint, 'xl' ) ) {
				margin-bottom: -$golden * $padding_vertical;
			}

		}

	}

}


