/* FILE: main/wp/__alignment.scss */

//
// Alignment
//





$content_indent: 100 - $page_content_width;

.site-content {
	// Needed to prevent horizontal scrolling due to incorrect
	// `100vw` calculation in browser on Windows operating system.
	overflow-x: hidden;
}

.alignwide,
.alignfull {
	clear: both;
	width: 100vw;

	& + & {
		// Removing vertical margin here in favor of Spacer block
		// used to space out the wide/full aligned blocks.
		margin-top: -$golden +em;
	}

}

.alignwide {
	width: auto;

	// @see  main/content/__layout-outdented.scss

	.no-widgets-sidebar & {
		clear: both;

		@include media( map_get( $breakpoint, 'l' ) ) {
			margin-left: percentage( -$golden_minor * $golden_minor );
			margin-right: percentage( -$golden_minor * $golden_minor );
		}

		@include media( map_get( $breakpoint, 'xl' ) ) {
			margin-left: percentage( -$golden_major / 2 );
			margin-right: percentage( -$golden_major / 2 );
		}

	}

	@include media( map_get( $breakpoint, 'xxl' ) ) {
		margin-#{$left}: percentage( -$golden_minor * $golden_minor ); // {{RTL}}
	}

	.page:not(.page-layout-outdented) & {
		margin-left: 0;
		margin-right: 0;
	}

	.page-layout-outdented & {

		@include media( map_get( $breakpoint, 'xl' ) ) {
			width: percentage( 1 / ( $page_content_width / 100 ) );
			/* $content_width */
			max-width: $content_width +px;
			margin-#{$left}: percentage( -1 / ( $page_content_width / 100 ) + 1 ); // {{RTL}}
		}

	}

}

.alignfull {
	max-width: 100vw;
	margin-#{$left}: calc( 50% - 50vw ); // {{RTL}}

	.page-layout-outdented & {

		@include media( map_get( $breakpoint, 'xl' ) ) {
			$content_center: ( 50 - $content_indent ) / ( 100 - $content_indent );
			$content_center: percentage( $content_center );
			margin-#{$left}: calc( #{ $content_center } - 50vw );
		}

	}

	// First and last full aligned block in a page content
	// should "remove" the page vertical padding really.
	// On blog posts this is not needed as there is still a post
	// meta displayed on top.
	//
	// @see  .site-content-inner @ main/content/__layout.scss
	.page & {

		&:first-child {
			@extend %disregard_content_padding_top;
		}

		&:last-child {
			@extend %disregard_content_padding_bottom;
		}

	}

}
